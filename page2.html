<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Home</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <!--
      Need a visual blank slate?
      Remove all code in `styles.css`!
    -->
    <link rel="stylesheet" href="styles.css" />
    <script type="module" src="script.js"></script>
  </head>
  <body>
    <!-- <nav>
      <a href="/" aria-current="page">Home</a>
      <a href="/page2.html">Other page</a>
    </nav> -->
    <main>
      <h1>page2</h1>
    </main>
    <script>
      window.addEventListener("DOMContentLoaded", (event) => {
        window.addEventListener("message", (event) => {
          console.log("iframe1中", event.data);
          if (event.data.channel === "channel1") {
            event.ports[0].postMessage({
              sourceType: "channel1 - iframe1",
            });
          }
          // 在 iframe1 中向父页面发送回复消息
          event.source.postMessage(
            {
              sourceType: "111, iframe1",
            },
            event.origin
          );
        });
      });
    </script>
  </body>
</html>
